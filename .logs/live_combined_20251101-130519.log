2025-11-01 13:05:22 [STREAM] ==> /home/dzoan/credit-appraisal-agent-poc/.logs/api_20251101-130519.log <==
2025-11-01 13:05:22 [STREAM] 
2025-11-01 13:05:22 [STREAM] ==> /home/dzoan/credit-appraisal-agent-poc/.logs/ui_20251101-130519.log <==
2025-11-01 13:05:23 [STREAM] 
2025-11-01 13:05:23 [STREAM] ==> /home/dzoan/credit-appraisal-agent-poc/.logs/api_20251101-130519.log <==
2025-11-01 13:05:23 [STREAM] INFO:     Will watch for changes in these directories: ['/home/dzoan/credit-appraisal-agent-poc']
2025-11-01 13:05:23 [STREAM] INFO:     Uvicorn running on http://0.0.0.0:8090 (Press CTRL+C to quit)
2025-11-01 13:05:23 [STREAM] INFO:     Started reloader process [605429] using WatchFiles
2025-11-01 13:05:23 [STREAM] 
2025-11-01 13:05:23 [STREAM] ==> /home/dzoan/credit-appraisal-agent-poc/.logs/ui_20251101-130519.log <==
2025-11-01 13:05:23 [STREAM] 2025-11-01 13:05:23.479 Starting new event loop for server
2025-11-01 13:05:23 [STREAM] 2025-11-01 13:05:23.479 Starting server...
2025-11-01 13:05:23 [STREAM] 2025-11-01 13:05:23.480 Serving static content from /home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/streamlit/static
2025-11-01 13:05:23 [STREAM] 2025-11-01 13:05:23.489 Server started on port 8502
2025-11-01 13:05:23 [STREAM] 2025-11-01 13:05:23.489 Runtime state: RuntimeState.INITIAL -> RuntimeState.NO_SESSIONS_CONNECTED
2025-11-01 13:05:23 [STREAM] 
2025-11-01 13:05:23 [STREAM]   You can now view your Streamlit app in your browser.
2025-11-01 13:05:23 [STREAM] 
2025-11-01 13:05:23 [STREAM]   URL: http://0.0.0.0:8502
2025-11-01 13:05:23 [STREAM] 
2025-11-01 13:05:23 [STREAM] 2025-11-01 13:05:23.491 Setting up signal handler
2025-11-01 13:05:24 [STREAM] 2025-11-01 13:05:24.577 AppSession initialized (id=71be1557-6078-499b-bad3-ef6eb13e7bae)
2025-11-01 13:05:24 [STREAM] 2025-11-01 13:05:24.577 Created new session for client 125806781967776. Session ID: 71be1557-6078-499b-bad3-ef6eb13e7bae
2025-11-01 13:05:24 [STREAM] 2025-11-01 13:05:24.577 Runtime state: RuntimeState.NO_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 
2025-11-01 13:05:25 [STREAM] ==> /home/dzoan/credit-appraisal-agent-poc/.logs/api_20251101-130519.log <==
2025-11-01 13:05:25 [STREAM] Process SpawnProcess-1:
2025-11-01 13:05:25 [STREAM] Traceback (most recent call last):
2025-11-01 13:05:25 [STREAM]   File "/usr/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
2025-11-01 13:05:25 [STREAM]     self.run()
2025-11-01 13:05:25 [STREAM]   File "/usr/lib/python3.10/multiprocessing/process.py", line 108, in run
2025-11-01 13:05:25 [STREAM]     self._target(*self._args, **self._kwargs)
2025-11-01 13:05:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
2025-11-01 13:05:25 [STREAM]     target(sockets=sockets)
2025-11-01 13:05:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 65, in run
2025-11-01 13:05:25 [STREAM]     return asyncio.run(self.serve(sockets=sockets))
2025-11-01 13:05:25 [STREAM]   File "/usr/lib/python3.10/asyncio/runners.py", line 44, in run
2025-11-01 13:05:25 [STREAM]     return loop.run_until_complete(main)
2025-11-01 13:05:25 [STREAM]   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
2025-11-01 13:05:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 69, in serve
2025-11-01 13:05:25 [STREAM]     await self._serve(sockets)
2025-11-01 13:05:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 76, in _serve
2025-11-01 13:05:25 [STREAM]     config.load()
2025-11-01 13:05:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/config.py", line 434, in load
2025-11-01 13:05:25 [STREAM]     self.loaded_app = import_from_string(self.app)
2025-11-01 13:05:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-11-01 13:05:25 [STREAM]     module = importlib.import_module(module_str)
2025-11-01 13:05:25 [STREAM]   File "/usr/lib/python3.10/importlib/__init__.py", line 126, in import_module
2025-11-01 13:05:25 [STREAM]     return _bootstrap._gcd_import(name[level:], package, level)
2025-11-01 13:05:25 [STREAM]   File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
2025-11-01 13:05:25 [STREAM]   File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
2025-11-01 13:05:25 [STREAM]   File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
2025-11-01 13:05:25 [STREAM]   File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
2025-11-01 13:05:25 [STREAM]   File "<frozen importlib._bootstrap_external>", line 883, in exec_module
2025-11-01 13:05:25 [STREAM]   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-11-01 13:05:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/services/api/main.py", line 47, in <module>
2025-11-01 13:05:25 [STREAM]     from services.api.routers.reports import router as reports_router
2025-11-01 13:05:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/services/api/routers/reports.py", line 12, in <module>
2025-11-01 13:05:25 [STREAM]     from services.api.routers.agents import get_run_record
2025-11-01 13:05:25 [STREAM] ImportError: cannot import name 'get_run_record' from 'services.api.routers.agents' (/home/dzoan/credit-appraisal-agent-poc/services/api/routers/agents.py)
2025-11-01 13:05:25 [STREAM] 
2025-11-01 13:05:25 [STREAM] ==> /home/dzoan/credit-appraisal-agent-poc/.logs/ui_20251101-130519.log <==
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.608 AppSession initialized (id=cb944f68-3f8c-45df-9331-1c6d6dbf7ba6)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.608 Created new session for client 125806781970128. Session ID: cb944f68-3f8c-45df-9331-1c6d6dbf7ba6
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.608 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.641 AppSession initialized (id=7bf0d628-1a1c-44c3-ab97-ed630f304f50)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.642 Created new session for client 125806780284992. Session ID: 7bf0d628-1a1c-44c3-ab97-ed630f304f50
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.642 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.673 AppSession initialized (id=ce4a1c3e-c42f-49f4-b950-192e41c94c23)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.674 Created new session for client 125806780287296. Session ID: ce4a1c3e-c42f-49f4-b950-192e41c94c23
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.674 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.701 AppSession initialized (id=2ea84881-90f4-47d3-a72f-0ce9b8fe44d1)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.701 Created new session for client 125806780289600. Session ID: 2ea84881-90f4-47d3-a72f-0ce9b8fe44d1
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.701 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.728 AppSession initialized (id=e809a629-c965-4ac1-b268-4ee54c5ae67c)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.728 Created new session for client 125806780291856. Session ID: e809a629-c965-4ac1-b268-4ee54c5ae67c
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.729 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.759 AppSession initialized (id=e4af0916-bd28-4429-9ed9-3ef726be0f13)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.759 Created new session for client 125806780294208. Session ID: e4af0916-bd28-4429-9ed9-3ef726be0f13
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.760 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.790 AppSession initialized (id=e64c6591-aa58-4129-92ef-2de221ad4669)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.790 Created new session for client 125806780296512. Session ID: e64c6591-aa58-4129-92ef-2de221ad4669
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.790 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.822 AppSession initialized (id=ce2b1839-54db-49cd-9bce-964a9509efdc)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.822 Created new session for client 125806780298768. Session ID: ce2b1839-54db-49cd-9bce-964a9509efdc
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.822 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.855 AppSession initialized (id=5c1955da-572a-4448-ba9a-ea1709f273bf)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.856 Created new session for client 125806780301120. Session ID: 5c1955da-572a-4448-ba9a-ea1709f273bf
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.856 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.883 AppSession initialized (id=63016284-33d9-4d4b-a797-d3ebadaaa5bd)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.884 Created new session for client 125806780467184. Session ID: 63016284-33d9-4d4b-a797-d3ebadaaa5bd
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.884 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.917 AppSession initialized (id=00ff7c0c-af2d-4158-99ef-ae0007b56262)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.917 Created new session for client 125806780469632. Session ID: 00ff7c0c-af2d-4158-99ef-ae0007b56262
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.917 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.942 AppSession initialized (id=59c4db2b-d9d0-443b-944b-22e65769f285)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.943 Created new session for client 125806780471936. Session ID: 59c4db2b-d9d0-443b-944b-22e65769f285
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.943 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.965 AppSession initialized (id=bbca61f7-c585-4d9e-9e11-017e045fe136)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.965 Created new session for client 125806780474192. Session ID: bbca61f7-c585-4d9e-9e11-017e045fe136
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.965 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.996 AppSession initialized (id=f53f2f21-7a65-4eb2-8f28-f54ebab22539)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.996 Created new session for client 125806780476544. Session ID: f53f2f21-7a65-4eb2-8f28-f54ebab22539
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:24.997 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:25.423 AppSession initialized (id=2a6028af-f134-499a-bad3-49669a4d566a)
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:25.423 Created new session for client 125806780478848. Session ID: 2a6028af-f134-499a-bad3-49669a4d566a
2025-11-01 13:05:25 [STREAM] 2025-11-01 13:05:25.423 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:26 [STREAM] 2025-11-01 13:05:26.232 AppSession initialized (id=f88c498c-6248-44cf-8047-b6dd3fd0c948)
2025-11-01 13:05:26 [STREAM] 2025-11-01 13:05:26.232 Created new session for client 125806780481152. Session ID: f88c498c-6248-44cf-8047-b6dd3fd0c948
2025-11-01 13:05:26 [STREAM] 2025-11-01 13:05:26.232 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:36 [STREAM] 2025-11-01 13:05:35.954 AppSession initialized (id=733c753d-7e8f-4dee-9eae-d9cabaf3f589)
2025-11-01 13:05:36 [STREAM] 2025-11-01 13:05:35.955 Created new session for client 125806781972144. Session ID: 733c753d-7e8f-4dee-9eae-d9cabaf3f589
2025-11-01 13:05:36 [STREAM] 2025-11-01 13:05:35.955 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED
2025-11-01 13:05:36 [STREAM] 2025-11-01 13:05:35.957 Received the following back message:
2025-11-01 13:05:36 [STREAM] rerun_script {
2025-11-01 13:05:36 [STREAM]   widget_states {
2025-11-01 13:05:36 [STREAM]   }
2025-11-01 13:05:36 [STREAM]   context_info {
2025-11-01 13:05:36 [STREAM]     timezone: "Asia/Bangkok"
2025-11-01 13:05:36 [STREAM]     timezone_offset: -420
2025-11-01 13:05:36 [STREAM]     locale: "en-US"
2025-11-01 13:05:36 [STREAM]     url: "http://localhost:8502/"
2025-11-01 13:05:36 [STREAM]     is_embedded: false
2025-11-01 13:05:36 [STREAM]     color_scheme: "light"
2025-11-01 13:05:36 [STREAM]   }
2025-11-01 13:05:36 [STREAM] }
2025-11-01 13:05:36 [STREAM] 
2025-11-01 13:05:36 [STREAM] 2025-11-01 13:05:35.958 Beginning script thread
2025-11-01 13:05:36 [STREAM] 2025-11-01 13:05:35.958 Running script RerunData(widget_states=, context_info=timezone: "Asia/Bangkok"
2025-11-01 13:05:36 [STREAM] timezone_offset: -420
2025-11-01 13:05:36 [STREAM] locale: "en-US"
2025-11-01 13:05:36 [STREAM] url: "http://localhost:8502/"
2025-11-01 13:05:36 [STREAM] is_embedded: false
2025-11-01 13:05:36 [STREAM] color_scheme: "light"
2025-11-01 13:05:36 [STREAM] )
2025-11-01 13:05:36 [STREAM] 2025-11-01 13:05:35.958 Disconnecting files for session with ID 733c753d-7e8f-4dee-9eae-d9cabaf3f589
2025-11-01 13:05:36 [STREAM] 2025-11-01 13:05:35.958 Sessions still active: dict_keys([])
2025-11-01 13:05:36 [STREAM] 2025-11-01 13:05:35.958 Files: 0; Sessions with files: 0
2025-11-01 13:05:37 [STREAM] 2025-11-01 13:05:37.017 Removing orphaned files...
2025-11-01 13:08:25 [STREAM] 
2025-11-01 13:08:25 [STREAM] ==> /home/dzoan/credit-appraisal-agent-poc/.logs/api_20251101-130519.log <==
2025-11-01 13:08:25 [STREAM] WARNING:  WatchFiles detected changes in 'services/api/routers/agents.py'. Reloading...
2025-11-01 13:08:25 [STREAM] Process SpawnProcess-2:
2025-11-01 13:08:25 [STREAM] Traceback (most recent call last):
2025-11-01 13:08:25 [STREAM]   File "/usr/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
2025-11-01 13:08:25 [STREAM]     self.run()
2025-11-01 13:08:25 [STREAM]   File "/usr/lib/python3.10/multiprocessing/process.py", line 108, in run
2025-11-01 13:08:25 [STREAM]     self._target(*self._args, **self._kwargs)
2025-11-01 13:08:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
2025-11-01 13:08:25 [STREAM]     target(sockets=sockets)
2025-11-01 13:08:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 65, in run
2025-11-01 13:08:25 [STREAM]     return asyncio.run(self.serve(sockets=sockets))
2025-11-01 13:08:25 [STREAM]   File "/usr/lib/python3.10/asyncio/runners.py", line 44, in run
2025-11-01 13:08:25 [STREAM]     return loop.run_until_complete(main)
2025-11-01 13:08:25 [STREAM]   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
2025-11-01 13:08:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 69, in serve
2025-11-01 13:08:25 [STREAM]     await self._serve(sockets)
2025-11-01 13:08:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 76, in _serve
2025-11-01 13:08:25 [STREAM]     config.load()
2025-11-01 13:08:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/config.py", line 434, in load
2025-11-01 13:08:25 [STREAM]     self.loaded_app = import_from_string(self.app)
2025-11-01 13:08:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/importer.py", line 22, in import_from_string
2025-11-01 13:08:25 [STREAM]     raise exc from None
2025-11-01 13:08:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-11-01 13:08:25 [STREAM]     module = importlib.import_module(module_str)
2025-11-01 13:08:25 [STREAM]   File "/usr/lib/python3.10/importlib/__init__.py", line 126, in import_module
2025-11-01 13:08:25 [STREAM]     return _bootstrap._gcd_import(name[level:], package, level)
2025-11-01 13:08:25 [STREAM]   File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
2025-11-01 13:08:25 [STREAM]   File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
2025-11-01 13:08:25 [STREAM]   File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
2025-11-01 13:08:25 [STREAM]   File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
2025-11-01 13:08:25 [STREAM]   File "<frozen importlib._bootstrap_external>", line 883, in exec_module
2025-11-01 13:08:25 [STREAM]   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-11-01 13:08:25 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/services/api/main.py", line 46, in <module>
2025-11-01 13:08:25 [STREAM]     from services.api.routers.agents import router as agents_router, AGENT_REGISTRY, _ALIAS_TO_CANON  # UPDATED IMPORT
2025-11-01 13:08:25 [STREAM] ModuleNotFoundError: No module named 'services.api.routers.agents'
2025-11-01 13:08:38 [STREAM] WARNING:  WatchFiles detected changes in 'services/api/routers/agents.py'. Reloading...
2025-11-01 13:08:39 [STREAM] Process SpawnProcess-3:
2025-11-01 13:08:39 [STREAM] Traceback (most recent call last):
2025-11-01 13:08:39 [STREAM]   File "/usr/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
2025-11-01 13:08:39 [STREAM]     self.run()
2025-11-01 13:08:39 [STREAM]   File "/usr/lib/python3.10/multiprocessing/process.py", line 108, in run
2025-11-01 13:08:39 [STREAM]     self._target(*self._args, **self._kwargs)
2025-11-01 13:08:39 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
2025-11-01 13:08:39 [STREAM]     target(sockets=sockets)
2025-11-01 13:08:39 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 65, in run
2025-11-01 13:08:39 [STREAM]     return asyncio.run(self.serve(sockets=sockets))
2025-11-01 13:08:39 [STREAM]   File "/usr/lib/python3.10/asyncio/runners.py", line 44, in run
2025-11-01 13:08:39 [STREAM]     return loop.run_until_complete(main)
2025-11-01 13:08:39 [STREAM]   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
2025-11-01 13:08:39 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 69, in serve
2025-11-01 13:08:39 [STREAM]     await self._serve(sockets)
2025-11-01 13:08:39 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 76, in _serve
2025-11-01 13:08:39 [STREAM]     config.load()
2025-11-01 13:08:39 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/config.py", line 434, in load
2025-11-01 13:08:39 [STREAM]     self.loaded_app = import_from_string(self.app)
2025-11-01 13:08:39 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/.venv/lib/python3.10/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-11-01 13:08:39 [STREAM]     module = importlib.import_module(module_str)
2025-11-01 13:08:39 [STREAM]   File "/usr/lib/python3.10/importlib/__init__.py", line 126, in import_module
2025-11-01 13:08:39 [STREAM]     return _bootstrap._gcd_import(name[level:], package, level)
2025-11-01 13:08:39 [STREAM]   File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
2025-11-01 13:08:39 [STREAM]   File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
2025-11-01 13:08:39 [STREAM]   File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
2025-11-01 13:08:39 [STREAM]   File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
2025-11-01 13:08:39 [STREAM]   File "<frozen importlib._bootstrap_external>", line 883, in exec_module
2025-11-01 13:08:39 [STREAM]   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-11-01 13:08:39 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/services/api/main.py", line 47, in <module>
2025-11-01 13:08:39 [STREAM]     from services.api.routers.reports import router as reports_router
2025-11-01 13:08:39 [STREAM]   File "/home/dzoan/credit-appraisal-agent-poc/services/api/routers/reports.py", line 12, in <module>
2025-11-01 13:08:39 [STREAM]     from services.api.routers.agents import get_run_record
2025-11-01 13:08:39 [STREAM] ImportError: cannot import name 'get_run_record' from 'services.api.routers.agents' (/home/dzoan/credit-appraisal-agent-poc/services/api/routers/agents.py)
2025-11-01 13:08:42 [STREAM] INFO:     Stopping reloader process [605429]
2025-11-01 13:08:42 [STREAM] 
2025-11-01 13:08:42 [STREAM] ==> /home/dzoan/credit-appraisal-agent-poc/.logs/ui_20251101-130519.log <==
2025-11-01 13:08:42 [STREAM]   Stopping...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.526 Runtime stopping...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.527 Runtime state: RuntimeState.ONE_OR_MORE_SESSIONS_CONNECTED -> RuntimeState.STOPPING
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.527 Shutting down (id=7bf0d628-1a1c-44c3-ab97-ed630f304f50)
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.527 Disconnecting files for session with ID 7bf0d628-1a1c-44c3-ab97-ed630f304f50
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.527 Sessions still active: dict_keys([])
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Files: 0; Sessions with files: 0
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Removing orphaned files...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Shutting down (id=71be1557-6078-499b-bad3-ef6eb13e7bae)
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Disconnecting files for session with ID 71be1557-6078-499b-bad3-ef6eb13e7bae
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Sessions still active: dict_keys([])
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Files: 0; Sessions with files: 0
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Removing orphaned files...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Shutting down (id=cb944f68-3f8c-45df-9331-1c6d6dbf7ba6)
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Disconnecting files for session with ID cb944f68-3f8c-45df-9331-1c6d6dbf7ba6
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Sessions still active: dict_keys([])
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Files: 0; Sessions with files: 0
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Removing orphaned files...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Shutting down (id=ce4a1c3e-c42f-49f4-b950-192e41c94c23)
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Disconnecting files for session with ID ce4a1c3e-c42f-49f4-b950-192e41c94c23
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Sessions still active: dict_keys([])
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Files: 0; Sessions with files: 0
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Removing orphaned files...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Shutting down (id=2ea84881-90f4-47d3-a72f-0ce9b8fe44d1)
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Disconnecting files for session with ID 2ea84881-90f4-47d3-a72f-0ce9b8fe44d1
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Sessions still active: dict_keys([])
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Files: 0; Sessions with files: 0
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Removing orphaned files...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Shutting down (id=e809a629-c965-4ac1-b268-4ee54c5ae67c)
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Disconnecting files for session with ID e809a629-c965-4ac1-b268-4ee54c5ae67c
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Sessions still active: dict_keys([])
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Files: 0; Sessions with files: 0
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Removing orphaned files...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Shutting down (id=e4af0916-bd28-4429-9ed9-3ef726be0f13)
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Disconnecting files for session with ID e4af0916-bd28-4429-9ed9-3ef726be0f13
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.528 Sessions still active: dict_keys([])
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Files: 0; Sessions with files: 0
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Removing orphaned files...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Shutting down (id=e64c6591-aa58-4129-92ef-2de221ad4669)
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Disconnecting files for session with ID e64c6591-aa58-4129-92ef-2de221ad4669
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Sessions still active: dict_keys([])
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Files: 0; Sessions with files: 0
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Removing orphaned files...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Shutting down (id=ce2b1839-54db-49cd-9bce-964a9509efdc)
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Disconnecting files for session with ID ce2b1839-54db-49cd-9bce-964a9509efdc
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Sessions still active: dict_keys([])
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Files: 0; Sessions with files: 0
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Removing orphaned files...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Shutting down (id=5c1955da-572a-4448-ba9a-ea1709f273bf)
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Disconnecting files for session with ID 5c1955da-572a-4448-ba9a-ea1709f273bf
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Sessions still active: dict_keys([])
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Files: 0; Sessions with files: 0
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Removing orphaned files...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Shutting down (id=63016284-33d9-4d4b-a797-d3ebadaaa5bd)
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Disconnecting files for session with ID 63016284-33d9-4d4b-a797-d3ebadaaa5bd
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Sessions still active: dict_keys([])
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Files: 0; Sessions with files: 0
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Removing orphaned files...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Shutting down (id=00ff7c0c-af2d-4158-99ef-ae0007b56262)
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Disconnecting files for session with ID 00ff7c0c-af2d-4158-99ef-ae0007b56262
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Sessions still active: dict_keys([])
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Files: 0; Sessions with files: 0
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Removing orphaned files...
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Shutting down (id=59c4db2b-d9d0-443b-944b-22e65769f285)
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Disconnecting files for session with ID 59c4db2b-d9d0-443b-944b-22e65769f285
2025-11-01 13:08:42 [STREAM] 2025-11-01 13:08:42.529 Sessions still activ